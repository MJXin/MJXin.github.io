---
title: 附录-CodeReview：(团队共同关注的)代码不符合需求 27 条
key: test
excerpt_separator: <!--more-->
excerpt_type: html # text (default), html
lightbox: true
pageview: true
tags: 工程专题 CodeReview 附录
coding: UTF-8
---
Video 应该不需要包含返回按钮，只需要显示时长

缺少一个控制样式的属性， 设计图中视频在全屏模式下和普通模式下的进度条等样式是不一样的。需要对外暴露一个可以设置样式的属性。

video 缺少缩略图

"styles 只处理了全屏{width: '100%', height: '100%'}的情况。
需求中视频不一定是全屏。应该是设置一个宽度，然后视频根据宽高比自动计算（具体需求是固定比例，还是需要播放器按源视频的宽高比自适应需要和产品确认。）"

"还少一个可以设置当前视频是否为 720P 的属性。
设计图中有左上角显示 720P 角标的需求"

"可能还需要加两个属性：

maxZoomScale: 最大放大倍率
photoViewPadding: 图片的外边距

maxZoomScale: 用于之后根据需求调整图片缩放的最大缩放倍率
photoViewPadding: 用于设置图片到屏幕两边的边距（因为 PhotoView 需要铺满整个屏幕以保持放大的时候全屏显示，所以只能通过内部添加边距的方式实现未缩放时的左右边距）"

"还需要几个回调：


didEndZoom() : 结束缩放时的回调（用于结束后处理一些事件）

onZoom(zoomScale: number) : 开始缩放/缩放中的回调（用于开始缩放时或缩放中处理一些事件）

onClick(isDblclick: bool): 图片被点击后的回调（用于图片被单双击时处理一些事件）"

"这里的判断条件建议跟PM沟通一下，
当前的判断是要求滑块滑动到最远端，少一个像素都会导致无法触发操作，这在实际使用中体验不是很友好。"

"区分一下 array.push() 和 array.unshift() 的区别。
这里应该用的是 unshift()"

电池文本的颜色应该是会随着电量改变的。

"这颗按钮应该有两种状态，
这里只看到一种，也没看到能更改状态的属性"

轨迹其他模式下的样式呢？

当曝光框在屏幕边界的时候,调整曝光的竖条是无法显示的,是否需要有些修改呢,比如设置边界或者曝光框在边界的时候把竖条的位置改变一下

会有这样一个需求，拿着mediaName 来读取正在下载中的进度，可否增加个获取某个资源下载进度的功能？

不对呀老哥，这儿的props怎么是默认的呢？如果有选择则需记录上次的选项。

调试log。。

这个速度是否需要处理下呢？我看一代实现是有类似曲线计算方式来设置，而不是直接扔给飞机。

"这个 component 按我对设计图的理解，应该是具体选中了跟踪模式后才会出来的。
如果选的是没有轨迹的模式，这个 component 可能不需要渲染。
具体的贺鑫怎么说？"

wifi 强度怎么还是写死的呢？

Wifi 模式下应该不存在需要显示地图的情况

这个逻辑是？？？ 为什么在 usb 模式下要禁用手势？

"大片应该是没有下载源视频的逻辑的。。
而且这里有点奇怪，下载视频的事件由 list 处理，但是 updateprogress 呢？看起来是被分开了。
downloadAndUpdateVideoRecord 是可以直接拿到 task 用于监听的"

看UI图横屏浏览时，顶部是个透明且渐变的Bar，但这儿单一个back icon。

这两句代码如果不要了就删掉吧

这里面还有曝光的内容，CameraGestureController 用来管预览流上手势的，不一定都是 wifi 的内容，不能直接在非 wifi 模式下屏蔽掉。。

这些逻辑是？能删掉吗

这个 contianer 可能在滑动列表中同时加载几个